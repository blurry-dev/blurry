<!DOCTYPE html><html lang="en"><head><title>Content: images Â· Blurry</title><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="description" content=""><link href="https://blurry-docs.netlify.app/content/images/" rel="canonical"><link rel="shortcut icon" href="/favicon.png"><script type="application/ld+json">{"@context": "https://schema.org", "author": {"name": "John Franey", "url": "https://johnfraney.ca"}, "sourceOrganization": {"name": "Blurry"}, "@type": "WebPage", "name": "Content: images", "url": "https://blurry-docs.netlify.app/content/images/"}</script><meta property="og:type" content="website"><meta content="https://blurry-docs.netlify.app/content/images/" property="og:url"><meta property="og:site_name" content="Blurry"><style>:root{--box-shadow:1px 1px 3px #999;--color-blue:aliceblue;--color-yellow:cornsilk;--dark:#1c1b1a;--light:#f9f9f9;--line-height:1.8;--color:#805c06;--color-background:var(--light);--color-background-accent:#fff;--color-faint:#d9d9d9;--color-text:var(--dark);}@media (prefers-color-scheme:dark){:root{--color:wheat;--color-background:var(--dark);--color-background-accent:#000;--color-faint:#333;--color-text:var(--light);}}body{background-color:var(--color-background);color:var(--color-text);column-gap:2rem;display:grid;font-family:-system,sans-serif;grid-template:"header header" auto
        "nav    main" auto
        "nav    footer" auto / 24ch 1fr;margin:0 auto;max-width:1400px;padding:0 0.75rem;row-gap:1rem;}@media(max-width:800px){body{grid-template:"header" auto
            "nav" auto
            "main" auto
            "footer" auto;}}body>header{grid-area:header;padding:0.5em 0;border-bottom:1px solid var(--color-faint);}body>details>summary{display:none;}@media(max-width:800px){body>details>summary{border:1px solid var(--color-faint);border-radius:0.25rem;cursor:pointer;display:inline-block;padding:0.25rem 0.5rem;}body>details>summary::before{content:'ðŸ“˜';filter:sepia(100);margin-right:0.25rem;}body>details[open]>summary::before{transform:rotate(90);content:'ðŸ“–';}body>details>nav{margin-top:1rem;}}body>nav{grid-area:nav;overflow-y:auto;}body>footer{grid-area:footer;}body>main{grid-area:main;}main>h1,nav>ul{margin-top:0;}main a{text-decoration:underline;}main p{line-height:var(--line-height);}main ul{line-height:var(--line-height);}nav>ul{padding-left:0;}nav ul li{list-style:none;margin:0.25em 0;}nav>ul>li{margin-top:0.75em;}nav>ul:first-child>li{margin-top:0;}nav li ul{padding-left:1em;}nav a{display:inline-block;padding:0.5em 0;}a{color:var(--color);text-decoration:none;}figure{margin:1.2em inherit;width:auto;max-width:100%;}figure>figcaption{font-style:italic;text-align:center;}figure>picture+figcaption::before{content:"ðŸ–¼ï¸ ";font-style:normal;padding-right:0.25em;}figure picture img{max-width:100%;height:auto;}picture{display:block;text-align:center;}pre{box-shadow:var(--box-shadow);white-space:pre-wrap;}pre>code{display:block;padding:1em;}</style></head><body><header><a href="/" class="blurry">Blurry</a></header><details open=""><summary>Menu</summary><nav><ul><li>Getting Started <ul><li><a href="/getting-started/quick-start/">Quick Start</a></li></ul></li><li>Commands <ul><li><a href="/commands/build/"><code>build</code></a></li><li><a href="/commands/runserver/"><code>runserver</code></a></li></ul></li><li>Content <ul><li><a href="/content/markdown/">Markdown</a></li><li><a href="/content/images/">Images</a></li><li><a href="/content/plugins/">Plugins</a></li></ul></li><li>Templates <ul><li><a href="/templates/syntax/">Syntax</a></li><li><a href="/templates/context/">Context</a></li><li><a href="/templates/examples/">Examples</a></li></ul></li><li>Configuration <ul><li><a href="/configuration/settings/">Settings</a></li><li><a href="/configuration/blurry.toml/">blurry.toml</a></li><li><a href="/configuration/environment-variables/">Environment variables</a></li></ul></li></ul></nav></details><main><h1>Content: images</h1><p>Image handling is one of <span class="blurry">Blurry</span>'s strengths, and under the hood, <span class="blurry">Blurry</span> performs some <a href="https://imagemagick.org/" target="_blank" rel="noopener">image magick</a>.</p><h2><span class="blurry">Blurry</span> image handling improvements</h2><h3>Absolute paths</h3><p><span class="blurry">Blurry</span> converts relative paths in Markdown to absolute paths in the build folder. This enables autocomplete in code editors, which makes for a pleasant writing experience.</p><h3><code>srcset</code> and <code>sizes</code></h3><p><span class="blurry">Blurry</span> generates images of various sizes, specified by the <code>IMAGE_WIDTHS</code> and <code>THUMBNAIL_WIDTH</code> <a href="../../configuration/settings/">settings</a>. These enable <a href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images" target="_blank" rel="noopener">responsive images</a>, using an appropriately sized image for each device.</p><p>This improves page speed by ensuring that devices aren't loading larger images than they can display.</p><h3>AVIF</h3><p>Rather than rendering images as plain <code>&lt;img&gt;</code> elements, <span class="blurry">Blurry</span> uses <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/picture" target="_blank" rel="noopener">the <code>&lt;picture&gt;</code> element</a> to support <a href="https://en.wikipedia.org/wiki/AVIF" target="_blank" rel="noopener">AVIF</a>, while providing a fallback for browsers that do not yet support AVIF.</p><p><span class="blurry">Blurry</span> automatically generates AVIF versions of your images, including the resized images mentioned above.</p><p>This improves page speed because AVIF provides excellent image quality at smaller file sizes than other image codecs.</p><h3>Width &amp; height</h3><p><span class="blurry">Blurry</span> grabs the original image's width and height and includes those values in their corresponding HTML attributes. This tells the browser the image's aspect ratio, so there is enough vertical for the image in the browser DOM.</p><p>This protects against layout shifts, which are disruptive for website visitors, especially on mobile devices.</p><p>For more information, see <a href="https://developer.chrome.com/docs/lighthouse/best-practices/image-aspect-ratio/" target="_blank" rel="noopener">the Lighthouse documentation on image aspect ratios</a>.</p><h3>Lazy loading</h3><p><span class="blurry">Blurry</span> adds lazy loading (<code>loading="lazy"</code>) to all images in body content <em>except the first image</em>.</p><p>This provides a page speed boost by waiting to load most images on a page until they're needed while preserving a main image that may appear above the fold.</p><h3>Figure caption</h3><p><span class="blurry">Blurry</span> adds the image's <code>alt</code> description as a figure caption (<code>&lt;figcaption&gt;</code>).</p><h2>Example</h2><p>Given the following Markdown syntax for an image with dimensions of 2160x1620 and with a <code>MAXIMUM_IMAGE_WIDTH</code> <a href="../../configuration/settings/">setting</a> of 750px:</p><pre><code class="language-markdown">![Screenshot of Black's playground](./images/black-playground.png)
</code></pre><p>standard Markdown processing might output:</p><pre><code class="language-html">&lt;img alt="Screenshot of Black's playground" src="./images/black-playground.png" /&gt;
</code></pre><p>When configured with a maximum image width of 750px, <span class="blurry">Blurry</span>'s image plugin, by contrast, outputs:</p><pre><code class="language-html">&lt;figure&gt;
    &lt;picture&gt;
        &lt;source srcset="/images/black-playground-285.avif 285w, /images/black-playground-360.avif 360w, /images/black-playground-640.avif 640w, /images/black-playground-750.avif 750w"
            sizes="(max-width: 285px) 285px, (max-width: 360px) 360px, (max-width: 640px) 640px, 750px"&gt;
        &lt;img alt="Screenshot of Black's playground"
            loading="lazy"
            src="/images/black-playground.png"
            sizes="(max-width: 285px) 285px, (max-width: 360px) 360px, (max-width: 640px) 640px, 750px"
            srcset="/images/black-playground-285.png 285w, /images/black-playground-360.png 360w, /images/black-playground-640.png 640w, /images/black-playground-750.png 750w"
            width="2160"
            height="1620"&gt;
    &lt;/picture&gt;
    &lt;figcaption&gt;Screenshot of Black's playground&lt;/figcaption&gt;
&lt;/figure&gt;
</code></pre></main><footer><p><small> Â© 2020-2023 <a href="https://johnfraney.ca/">John Franey</a></small></p></footer><link rel="preload" href="https://unpkg.com/@highlightjs/cdn-assets@11.7.0/styles/a11y-light.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@11.7.0/styles/a11y-light.min.css"></noscript><script src="https://unpkg.com/@highlightjs/cdn-assets@11.7.0/highlight.min.js" async="" defer=""></script><script>window.addEventListener('load', () => hljs.highlightAll());</script><style>aside[role="note"]{--spacing:0.75rem;box-shadow:var(--box-shadow);background:var(--color-background-accent);margin:1rem 0;padding:var(--spacing);}aside[role="note"]::before{background:var(--color-blue);color:var(--dark);content:"ðŸ›ˆ Info";display:block;line-height:1;margin:calc(var(--spacing) * -1);padding:var(--spacing);}aside[role="note"].note::before{content:"ðŸ“ Note";background:var(--color-yellow);}aside[role="note"].tip::before{content:"ðŸ’¡ Tip";background:var(--color-yellow);}aside[role="note"]>p:last-child{margin-bottom:0;}.blurry{color:var(--color);filter:blur(0.035em);}table{border:1px solid var(--color-faint);background-color:var(--color-background-accent);box-shadow:var(--box-shadow);}th,td{border-bottom:1px solid var(--color-faint);padding:0.5em;}tr:last-child td{border-bottom:none;}th{text-align:left;}</style><script>
        function onWindowResize(event) {
            const detailsElement = document.querySelector('details')
            console.info(window.innerWidth)
            window.innerWidth > 800 ? detailsElement.setAttribute("open", "") : detailsElement.removeAttribute("open")
        }
        addEventListener("resize", onWindowResize);
        onWindowResize()
    </script></body></html>